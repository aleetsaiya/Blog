<!DOCTYPE html>
<html lang="en">

<head>

  <!-- Minima -->
  <!-- Hexo theme created by @adisaktijrs -->

  <!-- Basic Page Needs
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta charset="utf-8">

  
  <title>Mosh redux course</title>
  
  <link rel="canonical" href="https://aleetsaiya.github.io/2022/01/22/Mosh-redux-course/">
  
  <meta name="description" content="å…§æ–‡æåˆ°çš„ç¨‹å¼ &amp;#x2F; æª”æ¡ˆç´€éŒ„åœ¨ github å…§: link  ç›®éŒ„ redux æ¶æ§‹    dispatch, subscribe, getState   Extensison   Multiple Reducers   Middleware   Testing redux applic">
  
  
  <meta name="author" content="Alee Tsai">
  
  
  
  <meta property="og:site_name" content="Coding Blog" />
  <meta property="og:type" content="article" />
  <meta property="og:title" content="Mosh redux course" />
  
  <meta property="og:description" content="å…§æ–‡æåˆ°çš„ç¨‹å¼ &amp;#x2F; æª”æ¡ˆç´€éŒ„åœ¨ github å…§: link  ç›®éŒ„ redux æ¶æ§‹    dispatch, subscribe, getState   Extensison   Multiple Reducers   Middleware   Testing redux applic">
  
  <meta property="og:url" content="https://aleetsaiya.github.io/2022/01/22/Mosh-redux-course/" />

  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Mosh redux course">
  
  <meta name="twitter:description" content="å…§æ–‡æåˆ°çš„ç¨‹å¼ &amp;#x2F; æª”æ¡ˆç´€éŒ„åœ¨ github å…§: link  ç›®éŒ„ redux æ¶æ§‹    dispatch, subscribe, getState   Extensison   Multiple Reducers   Middleware   Testing redux applic">
  
  
  
  
  <meta name="twitter:url" content="https://aleetsaiya.github.io/2022/01/22/Mosh-redux-course/" />

  <!-- Mobile Specific Metas
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Preload fonts
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="preload" href="/fonts/dm-serif-display-v4-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
  <link rel="preload" href="/fonts/inter-v2-latin-regular.woff2" as="font" type="font/woff2" crossorigin>

  <!-- CSS
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  
<link rel="stylesheet" href="/css/normalize.css">

  
<link rel="stylesheet" href="/css/skeleton.css">

  
<link rel="stylesheet" href="/css/custom.css">

  
<link rel="stylesheet" href="/css/prism-dark.css">

  
<link rel="stylesheet" href="/css/prism-line-numbers.css">

  <!-- User css -->
  
  
<link rel="stylesheet" href="/css/user.css">

  

  <!-- Favicon
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <link rel="icon" type="image/png" href="/images/favicon.png">

  <!-- Custom Theme Color Style
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  <style>
  a:not(.icon) {
    text-decoration-color: #0FA0CE;
    background-image: linear-gradient(
      to bottom,
      rgba(0, 0, 0, 0) 50%,
      #0FA0CE 50%
    );
  }
  blockquote {
    border-left: 8px solid #0FA0CE;
  }
  .nanobar .bar {
    background: #0FA0CE;
  }
  .button.button-primary:hover,
  button.button-primary:hover,
  input[type="submit"].button-primary:hover,
  input[type="reset"].button-primary:hover,
  input[type="button"].button-primary:hover,
  .button.button-primary:focus,
  button.button-primary:focus,
  input[type="submit"].button-primary:focus,
  input[type="reset"].button-primary:focus,
  input[type="button"].button-primary:focus {
    background-color: #0FA0CE;
    border-color: #0FA0CE;
  }
  input[type="email"]:focus,
  input[type="number"]:focus,
  input[type="search"]:focus,
  input[type="text"]:focus,
  input[type="tel"]:focus,
  input[type="url"]:focus,
  input[type="password"]:focus,
  textarea:focus,
  select:focus {
    border: 1px solid #0FA0CE;
  }
</style>

  <!-- Google Analytics (With Privacy Settings On)
  â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“â€“ -->
  

  
  <script src="/js/pic.min.js" defer></script>
  

  
    <script src="/js/search.min.js" defer></script>
  

<meta name="generator" content="Hexo 6.1.0"></head>

<body>
  <div class="container">
    <div class="row">
      <div>

        <div class="row">
  <div class="two columns" style="max-width: 50px">
    <h1 class="mt-2 mode">
      <div onclick=setDarkMode(true) id="darkBtn">ğŸŒ‘</div>
      <div onclick=setDarkMode(false) id="lightBtn" class=hidden>â˜€ï¸</div>
      <script >
        if (localStorage.getItem('preferredTheme') == 'dark') {
          setDarkMode(true)
        }
        function setDarkMode(isDark) {
          var darkBtn = document.getElementById('darkBtn')
          var lightBtn = document.getElementById('lightBtn')
          if (isDark) {
            lightBtn.style.display = "block"
            darkBtn.style.display = "none"
            localStorage.setItem('preferredTheme', 'dark');
          } else {
            lightBtn.style.display = "none"
            darkBtn.style.display = "block"
            localStorage.removeItem('preferredTheme');
          }
          document.body.classList.toggle("darkmode");
        }
      </script>
    </h1>
  </div>

  <div class="six columns ml-1">
    <h1 class="mt-2">
      Hi there!
    </h1>
  </div>

  <div class="twelve columns">
    <div class="row">
      <div class="nine columns left">
        <a href="/">Home</a>
        
          
          <a href="/Works" class="ml">Works</a>
          
        
          
          <a href="/About" class="ml">About</a>
          
        
        
          
            <a href="mailto:aleetsaiya@gmail.com" target="_blank" class="ml">Email</a>
          
        
      </div>
    </div>
    <hr style="margin-bottom: 2.6rem">
  </div>
</div>

        <div class="trans">
            <h2>Mosh redux course</h2>

  <blockquote>
<p>å…§æ–‡æåˆ°çš„ç¨‹å¼ &#x2F; æª”æ¡ˆç´€éŒ„åœ¨ github å…§: <a target="_blank" rel="noopener" href="https://github.com/aleetsaiya/mosh-redux-starter">link</a></p>
</blockquote>
<h2 id="ç›®éŒ„"><a href="#ç›®éŒ„" class="headerlink" title="ç›®éŒ„"></a>ç›®éŒ„</h2><ul>
<li><a href="#redux-%E6%9E%B6%E6%A7%8B">redux æ¶æ§‹</a>   </li>
<li><a href="#dispatch-subscribe-getstate">dispatch, subscribe, getState</a>  </li>
<li><a href="#extension">Extensison</a>  </li>
<li><a href="#multiple-reducers">Multiple Reducers</a>  </li>
<li><a href="#middleware">Middleware</a>  </li>
<li><a href="#testing-redux-application">Testing redux application</a></li>
</ul>
<h2 id="redux-æ¶æ§‹"><a href="#redux-æ¶æ§‹" class="headerlink" title="redux æ¶æ§‹"></a>redux æ¶æ§‹</h2><ol>
<li>å»ºç«‹ reducerï¼Œéœ€è¦ currentState, action ä½œç‚ºåƒæ•¸ï¼Œæ ¹æ“šä¸åŒçš„ action types ä¾†æ›´æ–° store ä¸­çš„ state ä¸¦å›å‚³</li>
<li>å»ºç«‹ storeï¼Œéœ€è¦ reducer ä½œç‚ºåƒæ•¸ï¼Œç‚ºä¸»ç¨‹å¼æ¥å£ï¼Œè² è²¬è™•ç†ä¸»ç¨‹å¼ç™¼å‡ºçš„ <code>dispatch</code>, <code>subscribe</code>, <code>getState</code> ç­‰å‹•ä½œ</li>
<li>ä¸»ç¨‹å¼å° store é€²è¡Œ <code>dispatch</code>, <code>subscribe</code>, <code>getState</code> ç­‰å‹•ä½œ</li>
</ol>
<h2 id="dispatch-subscribe-getState"><a href="#dispatch-subscribe-getState" class="headerlink" title="dispatch, subscribe, getState"></a>dispatch, subscribe, getState</h2><p>dispatch: æ ¹æ“šä¸åŒçš„ action ä¾†æ›´æ–° store ä¸­çš„ state<br>subscribe: åƒæ•¸ç‚ºä¸€ <code>function</code>ï¼Œä»£è¡¨ç•¶ store ä¸­çš„ state æ›´æ–°æ™‚ï¼Œéœ€è¦åšçš„äº‹æƒ…<br>getState: ç²å¾—ç•¶å‰ store ä¸­çš„ state</p>
<h2 id="æª”æ¡ˆ"><a href="#æª”æ¡ˆ" class="headerlink" title="æª”æ¡ˆ:"></a>æª”æ¡ˆ:</h2><blockquote>
<p>èª²å ‚ä¸­å„æª”æ¡ˆçš„æ„æ€</p>
</blockquote>
<h3 id="src-folder"><a href="#src-folder" class="headerlink" title="src folder:"></a>src folder:</h3><ul>
<li><code>index.js</code>: ç™¼å‡º dispatch, subscribe, getState çš„æª”æ¡ˆ</li>
<li><code>reducer.js</code>: å»ºç«‹ reducer</li>
<li><code>store.js</code>: å»ºç«‹ store</li>
<li><code>customStore.js</code>: è¦ªæ‰‹å»ºç«‹ç°¡å–®ç‰ˆçš„ store å…§éƒ¨</li>
<li><code>actionTypes.js</code>: çµ±ä¸€ç®¡ç† reducer è™•ç†çš„å„ç¨® action typeï¼Œç‚º actionTypes çš„æ¥å£</li>
<li><code>actionCreater.js</code>: å”åŠ©é€å‡º dispatch çš„ç´°ç¯€</li>
</ul>
<h3 id="duck-pattern"><a href="#duck-pattern" class="headerlink" title="duck-pattern"></a>duck-pattern</h3><p>ä½¿ç”¨ duck-pattern çš„çµæ§‹æ™‚ï¼ŒæœƒæŠŠ actionCreater, actionTypes, reducer ä¸‰å€‹æª”æ¡ˆåˆä½µæ”¾åœ¨åŒä¸€å€‹æª”æ¡ˆè£¡</p>
<pre class="line-numbers language-diff" data-language="diff"><code class="language-diff">src folder:
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> bugs
</span><span class="token prefix deleted">-</span><span class="token line"> |-- actionTypes.js
</span><span class="token prefix deleted">-</span><span class="token line"> |-- actionCreater.js
</span><span class="token prefix deleted">-</span><span class="token line"> |-- reducer.js
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> bugs.js</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Extension"><a href="#Extension" class="headerlink" title="Extension"></a>Extension</h2><blockquote>
<p>ä»‹ç´¹åˆ°çš„ redux extension</p>
</blockquote>
<h3 id="Redux-DevTools-link"><a href="#Redux-DevTools-link" class="headerlink" title="Redux DevTools: link"></a>Redux DevTools: <a target="_blank" rel="noopener" href="https://chrome.google.com/webstore/detail/redux-devtools/lmhkpmbekcpmknklioeibfkpmmfibljd?hl=zh-TW">link</a></h3><p>ä½¿ç”¨æ™‚è¦åœ¨ create store åŠ ä¸Šåƒæ•¸:</p>
<pre class="line-numbers language-diff" data-language="diff"><code class="language-diff">const store = createStore(
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> reducer,
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  window.__REDUX_DEVTOOLS_EXTENSION__ &amp;&amp; window.__REDUX_DEVTOOLS_EXTENSION__()
</span></span>);<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
<p>åƒè€ƒ: <a target="_blank" rel="noopener" href="https://github.com/zalmoxisus/redux-devtools-extension#1-with-redux">redux-devtools-extension</a></p>
<p>Redux Toolkit:</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> @reduxjs/toolkit<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>ä½¿ç”¨ redux toolkit å¯ä»¥å¹«åŠ©æˆ‘å€‘å»ºç«‹ä¹‹å‰æ‰‹å‹•å»ºç«‹çš„ <code>reducer</code>ã€<code>actionTypes``ã€actionCreater</code> ä»¥åŠ <code>createStore</code>ã€‚</p>
<p><code>createStore</code> :</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> configureStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@reduxjs/toolkit"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">"./reducer"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// when use configureStore, we don't need to check redux devTool extension</span>
  <span class="token keyword">return</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> reducer <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">  

åŸæœ¬çš„ actionTypes + actionCreater > </span><span class="token template-punctuation string">`</span></span>createAction<span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">: 
</span><span class="token template-punctuation string">`</span></span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token template-punctuation string">`</span></span>js
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createAction<span class="token punctuation">,</span> createReducer <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@reduxjs/toolkit"</span><span class="token punctuation">;</span>

<span class="token comment">// Action Creators + Action Types</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> bugAdded <span class="token operator">=</span> <span class="token function">createAction</span><span class="token punctuation">(</span><span class="token string">"bugAdded"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> bugResolved <span class="token operator">=</span> <span class="token function">createAction</span><span class="token punctuation">(</span><span class="token string">"bugResolved"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> bugRemoved <span class="token operator">=</span> <span class="token function">createAction</span><span class="token punctuation">(</span><span class="token string">"bugRemoved"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p><code>createActions</code> æœƒæ ¹æ“šæˆ‘å€‘å‚³å…¥çš„ <code>typeName</code> å›å‚³ä¸€å€‹ functionï¼ŒåŸ·è¡Œé€™å€‹ function ä¸¦å‚³å…¥ <code>argument</code> æœƒæ”¶åˆ°</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">type</span><span class="token operator">:</span> typeName<span class="token punctuation">,</span>
  <span class="token literal-property property">payload</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// your argument</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<p>åŸæœ¬çš„ reducer &gt; <code>createReducer</code>:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">createReducer</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// actions: function (event => event handler)</span>
  <span class="token comment">// added</span>
  <span class="token punctuation">[</span>bugAdded<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">bugs<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    bugs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token operator">++</span>lastId<span class="token punctuation">,</span>
      <span class="token literal-property property">description</span><span class="token operator">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>description<span class="token punctuation">,</span>
      <span class="token literal-property property">resolved</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// resolved</span>
  <span class="token punctuation">[</span>bugResolved<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">bugs<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> bugs<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">bug</span><span class="token punctuation">)</span> <span class="token operator">=></span> bug<span class="token punctuation">.</span>id <span class="token operator">===</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    bugs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>resolved <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token comment">// removed</span>
  <span class="token punctuation">[</span>bugRemoved<span class="token punctuation">.</span>type<span class="token punctuation">]</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">bugs<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> index <span class="token operator">=</span> bugs<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">bug</span><span class="token punctuation">)</span> <span class="token operator">=></span> bug<span class="token punctuation">.</span>id <span class="token operator">===</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    bugs<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>ä¹Ÿå¯ä»¥å°‡ä¸‰å€‹åˆä½µå†ä¸€èµ·å¯« (<code>createAction</code> + <code>createReducer</code>) &gt; <code>createSlice</code>:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createSlice <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@reduxjs/toolkit"</span><span class="token punctuation">;</span>

<span class="token keyword">let</span> lastId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> slice <span class="token operator">=</span> <span class="token function">createSlice</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">"bugs"</span><span class="token punctuation">,</span>
  <span class="token literal-property property">initialState</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">reducers</span><span class="token operator">:</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// actions => action handlers</span>
    <span class="token function-variable function">bugAdded</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">bugs<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      bugs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
        <span class="token literal-property property">id</span><span class="token operator">:</span> <span class="token operator">++</span>lastId<span class="token punctuation">,</span>
        <span class="token literal-property property">description</span><span class="token operator">:</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>description<span class="token punctuation">,</span>
        <span class="token literal-property property">resolved</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
      <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">bugResolved</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">bugs<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">const</span> index <span class="token operator">=</span> bugs<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">bug</span><span class="token punctuation">)</span> <span class="token operator">=></span> bug<span class="token punctuation">.</span>id <span class="token operator">===</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
      bugs<span class="token punctuation">[</span>index<span class="token punctuation">]</span><span class="token punctuation">.</span>resolved <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
    <span class="token function-variable function">bugRemoved</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter">bugs<span class="token punctuation">,</span> action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">const</span> index <span class="token operator">=</span> bugs<span class="token punctuation">.</span><span class="token function">findIndex</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">bug</span><span class="token punctuation">)</span> <span class="token operator">=></span> bug<span class="token punctuation">.</span>id <span class="token operator">===</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
      bugs<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> bugAdded<span class="token punctuation">,</span> bugResolved<span class="token punctuation">,</span> bugRemoved <span class="token punctuation">&#125;</span> <span class="token operator">=</span> slice<span class="token punctuation">.</span>actions<span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> slice<span class="token punctuation">.</span>reducer<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="Multiple-Reducers"><a href="#Multiple-Reducers" class="headerlink" title="Multiple Reducers"></a>Multiple Reducers</h2><img width="573" alt="Reducer" src="https://user-images.githubusercontent.com/67775387/149883054-0b5d39c6-8cc6-468d-b60d-4d6c5b033882.png">

<h3 id="combineRedcers"><a href="#combineRedcers" class="headerlink" title="combineRedcers"></a>combineRedcers</h3><p>å»ºç«‹å¤šå€‹ reducer ç®¡ç†ä¸åŒçš„ stateï¼Œç„¶å¾Œæœ€å¾Œå†å°‡é€™äº› reducer <code>combine</code></p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> combineReducers <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"redux"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> projectsReducer <span class="token keyword">from</span> <span class="token string">"./projects"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> bugsReducer <span class="token keyword">from</span> <span class="token string">"./bugs"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  <span class="token literal-property property">bugs</span><span class="token operator">:</span> bugsReducer<span class="token punctuation">,</span>
  <span class="token literal-property property">projects</span><span class="token operator">:</span> projectsReducer<span class="token punctuation">,</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="selector"><a href="#selector" class="headerlink" title="selector"></a>selector</h3><p>å¯ä»¥åœ¨æ¯å€‹ <code>reducer slice</code> çš„æª”æ¡ˆä¸­å¢åŠ  selectorï¼Œå¹«åŠ©æˆ‘å€‘é¸æ“‡ç‰¹å®šçš„ state</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// Selector</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">getUnresolvedBugs</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=></span>
  state<span class="token punctuation">.</span>entities<span class="token punctuation">.</span>bugs<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">bug</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span>bug<span class="token punctuation">.</span>resolved<span class="token punctuation">)</span><span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>åˆ©ç”¨å¥—ä»¶ <code>reselect</code> å¯ä»¥è®“æˆ‘å€‘å°‡ output å„²å­˜èµ·ä¾†ï¼Œå¦‚æœä¸‹ä¸€æ¬¡ input æ²’æœ‰è®Šå‹•çš„è©±ï¼Œå°±ä½¿ç”¨ä¸Šä¸€æ¬¡å„²å­˜çš„çµæœå›å‚³</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createSelector <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"reselect"</span><span class="token punctuation">;</span>
<span class="token comment">// Memoization</span>
<span class="token comment">// when the input not change, use the output from the cache (do not recalculate)</span>
<span class="token comment">// here we use "reselect" (npm install reselect)</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> getUnresolvedBugs <span class="token operator">=</span> <span class="token function">createSelector</span><span class="token punctuation">(</span>
  <span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token operator">=></span> state<span class="token punctuation">.</span>entities<span class="token punctuation">.</span>bugs<span class="token punctuation">,</span> <span class="token comment">// output of this function will pass to the next function</span>
  <span class="token punctuation">(</span><span class="token parameter">bugs</span><span class="token punctuation">)</span> <span class="token operator">=></span> bugs<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">bug</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token operator">!</span>bugs<span class="token punctuation">.</span>resolved<span class="token punctuation">)</span> <span class="token comment">// if the parameter "bugs" do not change, the bug filter won't execute, will use the result from the cache</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<h2 id="Middleware"><a href="#Middleware" class="headerlink" title="Middleware"></a>Middleware</h2><p>middleware æ˜¯æˆ‘å€‘å¾ dispatch åˆ° root reducer çš„éç¨‹ä¸­æ‰€æ·»åŠ çš„ç¨‹å¼</p>
<h3 id="create-Middleware"><a href="#create-Middleware" class="headerlink" title="create Middleware"></a>create Middleware</h3><ol>
<li>å»ºç«‹ä¸€å€‹ middleware è³‡æ–™å¤¾ (ä½¿ç”¨é€™å€‹åç¨±å‘½åè³‡æ–™å¤¾ï¼Œè³‡æ–™å¤¾ icon æœƒæ˜¯ä¸ä¸€æ¨£çš„ âš¡)</li>
<li>å»ºç«‹ middleware æª”æ¡ˆ</li>
</ol>
<p>ä½¿ç”¨ <code>currying</code> è¡¨ç¤ºæ¥æ”¶ä¸‰å€‹åƒæ•¸ ( <code>store</code>, <code>next</code>, <code>action</code> ) çš„å‡½æ•¸</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// next: next is the reference to the "next middleware function",</span>
<span class="token comment">// if this's the only middleware function we have, next is going</span>
<span class="token comment">// to be the reducer that is going to handle this action</span>
<span class="token keyword">const</span> <span class="token function-variable function">logger</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"store"</span><span class="token punctuation">,</span> store<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"next"</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"action"</span><span class="token punctuation">,</span> action<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> logger<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="3">
<li>æ–¼ createStore çš„æª”æ¡ˆå…§ï¼Œå¢åŠ  middleware (middleware: array of middleware)</li>
</ol>
<pre class="line-numbers language-diff" data-language="diff"><code class="language-diff">import &#123; configureStore &#125; from "@reduxjs/toolkit";
import reducer from "./reducer";
<span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line"> import logger from "./middleware/logger";
</span></span>
export default function () &#123;
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> return configureStore(
</span><span class="token prefix unchanged"> </span><span class="token line">   &#123; reducer, 
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">      middleware: [logger] 
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line">   &#125;
</span><span class="token prefix unchanged"> </span><span class="token line"> );
</span></span>&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>å¦‚æœè¦åœ¨ middleware å‚³å…¥åƒæ•¸çš„è©± (é™¤äº† store, next, action çš„åƒæ•¸)ï¼Œåœ¨ store å‰é¢å†åŠ ä¸€å€‹ paramï¼Œä¸¦åœ¨ createStore ä¸­çš„ middleware å‚³å…¥åƒæ•¸</p>
</blockquote>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// in middleware file</span>
<span class="token keyword">const</span> <span class="token function-variable function">logger</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">param</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>param<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> logger<span class="token punctuation">;</span>

<span class="token comment">// in createStore file</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> configureStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@reduxjs/toolkit"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">"./reducer"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> logger <span class="token keyword">from</span> <span class="token string">"./middleware/logger"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> reducer<span class="token punctuation">,</span> <span class="token literal-property property">middleware</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token function">logger</span><span class="token punctuation">(</span><span class="token string">"my param"</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Thunk-middleware"><a href="#Thunk-middleware" class="headerlink" title="Thunk middleware"></a>Thunk middleware</h3><p>å¹³å¸¸æˆ‘å€‘ <code>dispatch</code> æ™‚ï¼Œæˆ‘å€‘åªèƒ½ dispatch ä¸€å€‹ objectï¼Œè€Œ <code>thunk middleware</code> å°±æ˜¯é€é middleware ä½¿æˆ‘å€‘é”æˆ **â€ä¸åƒ…å¯ä»¥ dispatch objectï¼Œé‚„å¯ä»¥ dispatch ä¸€å€‹ functionâ€**ã€‚é€šå¸¸ä¾†èªªæˆ‘å€‘åœ¨è£½ä½œä¸€å€‹ thunk middleware æ™‚æœƒéœ€è¦å‚³ 2 å€‹åƒæ•¸ï¼Œåˆ†åˆ¥æ˜¯ <code>store</code> ä»¥åŠ <code>getState</code>ï¼Œåº•ä¸‹ç‚ºè‡ªè£½ä¸€å€‹ thunk middleware:</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// middleware/func.js</span>
<span class="token keyword">const</span> <span class="token function-variable function">func</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// å¦‚æœ action type æ˜¯ function çš„è©±ï¼Œå°±åŸ·è¡Œé€™å€‹ function ä¸¦å‚³å…¥ dispaych ä»¥åŠ getState</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> action <span class="token operator">===</span> <span class="token string">"function"</span><span class="token punctuation">)</span> <span class="token function">action</span><span class="token punctuation">(</span>store<span class="token punctuation">.</span>dispatch<span class="token punctuation">,</span> store<span class="token punctuation">.</span>getState<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token comment">// ä¸æ˜¯ function å°±ç¹¼çºŒé€å¾€ä¸‹ä¸€å€‹ middleware</span>
  <span class="token keyword">else</span> <span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> func<span class="token punctuation">;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>è£½ä½œå®Œ thunk middleware å¾Œï¼Œå°‡ä»–åŠ å…¥è‡³ store ä¸­</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// store/configureStore.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> configureStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@reduxjs/toolkit"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">"./reducer"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> func <span class="token keyword">from</span> <span class="token string">"./middleware/func"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">return</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> reducer<span class="token punctuation">,</span> <span class="token literal-property property">middleware</span><span class="token operator">:</span> <span class="token punctuation">[</span>func<span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>é™¤äº†ä¸Šé¢è‡ªå·±åšä¸€å€‹ thunk middlewareï¼Œæˆ‘å€‘å¯ä»¥ä½¿ç”¨ <a target="_blank" rel="noopener" href="https://github.com/reduxjs/redux-thunk">redux-thun</a>ã€‚å¦‚æœæˆ‘å€‘å°ˆæ¡ˆæ˜¯ä½¿ç”¨ <code>redux toolkit</code> çš„è©±ï¼Œåªéœ€è¦åœ¨ configureStore ä¸­çš„ middleware å…§åŠ å…¥ <code>...getDefaultMiddleware()</code>ï¼Œå°±å¯ä»¥ä½¿ç”¨ä»–å€‘åšå¥½çš„ thunk middlewareã€‚</p>
<pre class="line-numbers language-diff" data-language="diff"><code class="language-diff">// store/configureStore.js
import &#123; configureStore, getDefaultMiddleware &#125; from "@reduxjs/toolkit";
import reducer from "./reducer";
<span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line"> import func from "./middleware/func";
</span></span>
export default function () &#123;
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> return configureStore(&#123;
</span><span class="token prefix unchanged"> </span><span class="token line">   reducer,
</span></span><span class="token deleted-sign deleted"><span class="token prefix deleted">-</span><span class="token line">    middleware: [func]
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">    middleware: [...getDefaultMiddleware()],
</span></span><span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> &#125;);
</span></span>&#125;
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>More about thunk: <a target="_blank" rel="noopener" href="https://medium.com/frochu/%E9%80%81%E8%AE%93%E4%BD%A0%E7%9A%84action%E8%83%BD%E4%BD%9C%E6%9B%B4%E5%A4%9A-redux-thunk-c07bc5488e48">è®“ä½ çš„Actionèƒ½ä½œæ›´å¤š â€” Redux-Thunk</a></p>
<h3 id="combine-with-API"><a href="#combine-with-API" class="headerlink" title="combine with API"></a>combine with API</h3><p>å°‡ middleware çµåˆç™¼é€ api:</p>
<ol>
<li>å»ºç«‹ action ( <code>createAction</code> ) è² è²¬çµ±ä¸€è™•ç† action type:</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// store/api.js</span>
<span class="token keyword">import</span> <span class="token punctuation">&#123;</span> createAction <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@reduxjs/toolkit"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> apiRequest <span class="token operator">=</span> <span class="token function">createAction</span><span class="token punctuation">(</span><span class="token string">"apiRequest"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é€å‡º api request çš„ action</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> apiCallSuccess <span class="token operator">=</span> <span class="token function">createAction</span><span class="token punctuation">(</span><span class="token string">"apiCallSuccess"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// request success çš„ action</span>
<span class="token keyword">export</span> <span class="token keyword">const</span> apiCallFailed <span class="token operator">=</span> <span class="token function">createAction</span><span class="token punctuation">(</span><span class="token string">"apiCallFailed"</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// request failed çš„ action</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="2">
<li>å»ºç«‹ middlewareï¼Œç”¨ä¾†è™•ç†ç•¶æˆ‘å€‘å¾ä¸»ç¨‹å¼æ”¶åˆ° <code>api dispatch</code> æ™‚è¦åšçš„äº‹æƒ…</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// store/middleware/api.js</span>
<span class="token keyword">import</span> axios <span class="token keyword">from</span> <span class="token string">"axios"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> actions <span class="token keyword">from</span> <span class="token string">"../api"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">api</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">store</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token parameter">action</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// å¦‚æœé€å‡ºçš„ action type ä¸æ˜¯ apiRequestï¼Œé‚£å°±é€è‡³ä¸‹ä¸€å€‹ middleware ä¸¦è·³å‡º</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>action<span class="token punctuation">.</span>type <span class="token operator">!==</span> actions<span class="token punctuation">.</span>apiRequest<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token comment">// action type æ˜¯ apiRequestï¼ŒæŠŠæ¥æ”¶åˆ°çš„ action payload æå–å‡ºä¾†</span>
  <span class="token keyword">const</span> <span class="token punctuation">&#123;</span> url<span class="token punctuation">,</span> method<span class="token punctuation">,</span> data<span class="token punctuation">,</span> onSuccess<span class="token punctuation">,</span> onError <span class="token punctuation">&#125;</span> <span class="token operator">=</span> action<span class="token punctuation">.</span>payload<span class="token punctuation">;</span>
  <span class="token comment">// å°‡åŸ dispatch (apiRequest) ç¹¼çºŒé€å¾€ä¸‹ä¸€å€‹ middleware / reducer</span>
  <span class="token function">next</span><span class="token punctuation">(</span>action<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// æ ¹æ“šæ”¶åˆ°çš„ action payloadï¼Œé€å‡º request</span>
    <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> axios<span class="token punctuation">.</span><span class="token function">request</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
      <span class="token literal-property property">baseURL</span><span class="token operator">:</span> <span class="token string">"http://localhost:9001/api"</span><span class="token punctuation">,</span>
      url<span class="token punctuation">,</span>
      method<span class="token punctuation">,</span>
      data<span class="token punctuation">,</span>
    <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å¦‚æœæ”¶åˆ°çš„ action payload ä¸­æ²’ç‰¹åˆ¥è¨­å®š request success çš„ action type çš„è©±ï¼Œå°± dispatch é è¨­çš„ success action type</span>
    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>actions<span class="token punctuation">.</span><span class="token function">apiCallSuccess</span><span class="token punctuation">(</span>response<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å¦‚æœæœ‰ç‰¹åˆ¥è¨­å®š request success çš„ action typeï¼Œå°±ä¾å…§å®¹é€å‡º dispatch</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>onSuccess<span class="token punctuation">)</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">type</span><span class="token operator">:</span> onSuccess<span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> response<span class="token punctuation">.</span>data <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// request å¤±æ•—æ™‚ï¼Œé€å‡ºé è¨­ error dispatch</span>
    store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>actions<span class="token punctuation">.</span><span class="token function">apiCallFailed</span><span class="token punctuation">(</span>error<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æœ‰ç‰¹åˆ¥è¨­å®š request error çš„ action typeï¼Œä¾å…§å®¹é€å‡º dispatch</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>onError<span class="token punctuation">)</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> <span class="token literal-property property">type</span><span class="token operator">:</span> onError<span class="token punctuation">,</span> <span class="token literal-property property">payload</span><span class="token operator">:</span> error <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> api<span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="3">
<li>å°‡ middleware åŠ å…¥è‡³ store å…§</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> configureStore <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"@reduxjs/toolkit"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> reducer <span class="token keyword">from</span> <span class="token string">"./reducer"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> toastify <span class="token keyword">from</span> <span class="token string">"./middleware/toastify"</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> api <span class="token keyword">from</span> <span class="token string">"./middleware/api"</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// when use configureStore, we don't need to check redux devTool extension</span>
  <span class="token keyword">return</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span> reducer<span class="token punctuation">,</span> <span class="token literal-property property">middleware</span><span class="token operator">:</span> <span class="token punctuation">[</span>toastify<span class="token punctuation">,</span> api<span class="token punctuation">]</span> <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åŠ å…¥ api middleware</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="4">
<li>ä¸»ç¨‹å¼é€å‡º api dispatch</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> configureStore <span class="token keyword">from</span> <span class="token string">"./store/configureStore"</span><span class="token punctuation">;</span>
<span class="token comment">// åŒ¯å…¥çµ±ä¸€æ¥å£çš„ api action type</span>
<span class="token keyword">import</span> <span class="token operator">*</span> <span class="token keyword">as</span> actions <span class="token keyword">from</span> <span class="token string">"./store/api"</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">configureStore</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span>
  actions<span class="token punctuation">.</span><span class="token function">apiRequest</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
    <span class="token literal-property property">url</span><span class="token operator">:</span> <span class="token string">"/bugs"</span><span class="token punctuation">,</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ä¸Šé¢çš„ç¨‹å¼ç¢¼æ‹†è§£å¦‚ä¸‹:</span>
<span class="token comment">// store.dispatch(</span>
<span class="token comment">//   &#123;</span>
<span class="token comment">//     type: apiRequest.type,</span>
<span class="token comment">//     payload: &#123;</span>
<span class="token comment">//       url: "/bugs"</span>
<span class="token comment">//     &#125;</span>
<span class="token comment">//   &#125;</span>
<span class="token comment">// )</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>( å¾ŒçºŒç¨‹å¼ç¢¼é‚„æœ‰å†å¢åŠ  loading ä»¥åŠ cache featureï¼Œå®Œæ•´ç‰ˆç›´æ¥çœ‹ <code>src folder</code> å…§ç¨‹å¼ )</p>
<h2 id="Testing-Redux-Application"><a href="#Testing-Redux-Application" class="headerlink" title="Testing Redux Application"></a>Testing Redux Application</h2><h3 id="Automated-Testing"><a href="#Automated-Testing" class="headerlink" title="Automated Testing"></a>Automated Testing</h3><ul>
<li>Uni tests</li>
<li>Integration tests</li>
<li>End-to-end tests</li>
</ul>
<p><code>Uni test</code>: test the application without its external dependencies. (fast)<br><code>Integration test</code>: slower than uni test, but give us more confidence.<br><code>End-to-end test</code>: the most slowest, simple break the UI will break severals end-to-end test.  </p>
<h3 id="Use-Extension"><a href="#Use-Extension" class="headerlink" title="Use Extension"></a>Use Extension</h3><ol>
<li>install</li>
</ol>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> jest @types/jest @babel/core @babel/preset-env babel-jest --save-dev<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<ol start="2">
<li>create <code>babel.config.json</code> in root folder (cool file icon âš¡)</li>
</ol>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token comment">// in babel.config.json</span>
<span class="token punctuation">&#123;</span>
    <span class="token string-property property">"presets"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"@babel/preset-env"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token string-property property">"plugins"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">&#125;</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>
<ol start="3">
<li><p>create <code>tests</code> folder to store <code>spec</code> file</p>
</li>
<li><p>create <code>testname.spec.js</code> in test folder ( åœ¨åç¨±è£¡é¢æœ‰ <code>spec</code> çš„ï¼Œé€šå¸¸ä¾†èªªæ˜¯ä¸€å€‹ test file )</p>
</li>
<li><p>åœ¨ package.json åŠ å…¥:</p>
</li>
</ol>
<pre class="line-numbers language-diff" data-language="diff"><code class="language-diff">"scripts": &#123;
<span class="token unchanged"><span class="token prefix unchanged"> </span><span class="token line"> "start": "webpack-dev-server --config ./webpack.config.js",
</span></span><span class="token inserted-sign inserted"><span class="token prefix inserted">+</span><span class="token line">  "test": "jest"
</span></span>&#125;,<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<ol start="6">
<li>åŸ·è¡Œ <code>npm run test</code></li>
</ol>
<p>( <code>npx jest --coverage</code> æœƒå»ºç«‹ coverage è³‡æ–™å¤¾ï¼Œå¯ä»¥æ‰“é–‹ <code>index.html</code> çœ‹å“ªäº›æª”æ¡ˆè¢«æ¸¬è©¦æ¶µè“‹ )</p>
<h3 id="create-test-file"><a href="#create-test-file" class="headerlink" title="create test file"></a>create test file</h3><p>å¸¸ä½¿ç”¨åˆ°çš„ function:</p>
<ul>
<li><code>describe</code> (name, fn): ä¸€ç³»åˆ—çš„æ¸¬è©¦ï¼Œåƒæ˜¯ä¸€å€‹ folder åå« <code>name</code> çš„æ„Ÿè¦º</li>
<li><code>it</code> (name, fn): ä¸€å€‹åå« <code>name</code> æ¸¬è©¦</li>
<li>expect(<code>thing</code>) å¾Œé¢åŠ  <code>toBe()</code>, <code>toHaveLength()</code>, <code>toEqual()</code>, <code>toContainEqual</code> ç­‰</li>
</ul>
<pre class="line-numbers language-js" data-language="js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">&#123;</span> isEven <span class="token punctuation">&#125;</span> <span class="token keyword">from</span> <span class="token string">"./math"</span><span class="token punctuation">;</span>

<span class="token comment">// define a group of test</span>
<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">"isEven"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
  <span class="token comment">// define a test: it (testName, testFunction)</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">"sould return true if given an even number"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// Function under test (SUT)</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">isEven</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">"sould return false if given an odd number"</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">isEven</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toEqual</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="Unit-test-solitary-test-amp-amp-social-test"><a href="#Unit-test-solitary-test-amp-amp-social-test" class="headerlink" title="Unit test: solitary test &amp;&amp; social test"></a>Unit test: solitary test &amp;&amp; social test</h3><p>solitary test æ¸¬è©¦å–®ä¸€æª”æ¡ˆæ˜¯å¦æœ‰æ­£å¸¸é‹ä½œï¼Œsocial test æ¸¬è©¦å¤šå€‹æª”æ¡ˆåˆèµ·ä¾†æœ‰æ²’æœ‰æ­£å¸¸ï¼Œè€Œé€™äº›éƒ½å±¬æ–¼ unit test</p>
<blockquote>
<p>solitary test å¯èƒ½æœƒå› ç‚ºå¤ª detailï¼Œæ‰€ä»¥ä¸€å€‹å°æ”¹å‹• test å°±å‡ºç¾éŒ¯èª¤</p>
</blockquote>
<p>solitary test demo: <a target="_blank" rel="noopener" href="https://github.com/aleetsaiya/mosh-redux-starter/blob/master/demo/solitaryTest.md">link</a>  </p>
<p>social test demo: <a target="_blank" rel="noopener" href="https://github.com/aleetsaiya/mosh-redux-starter/blob/master/demo/socialTest.md">link</a></p>
<p>Testing File æœ€å¾Œå®Œæˆç‰ˆ: <a target="_blank" rel="noopener" href="https://github.com/aleetsaiya/mosh-redux-starter/blob/master/src/store/tests/bugs.spec.js">link</a></p>

  <p> â€” Jan 22, 2022</p>
  


        </div>
        <div class="row mt-2">
  <h3>Search Posts</h3>
  <div><input id="search-text" title="search" class="search-text" type="text" placeholder="search......"></div>
  <div style="margin-top: 1.5rem;">
    <ul id="result"></ul>
  </div>
</div>
        <div class="row mt-2">
  
    <div class="eight columns">
      <p id="madewith">Made with â¤ and
        <a class="footer-link icon" href="https://hexo.io" target="_blank" style="text-decoration: none;" rel="noreferrer" aria-label="Hexo.io">
        <svg class="hexo svg-hov" width="14" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><title>Hexo.js</title><path d="M12 .007L1.57 6.056V18.05L12 23.995l10.43-6.049V5.952L12 .007zm4.798 17.105l-.939.521-.939-.521V12.94H9.08v4.172l-.94.521-.938-.521V6.89l.939-.521.939.521v4.172h5.84V6.89l.94-.521.938.521v10.222z"/></svg>
        </a>
        
        at <a href="https://en.wikipedia.org/wiki/Taiwan" target="_blank" rel="noreferrer">Taiwan</a>.</p>
        
    </div>

    <!-- Sepcial thanks to https://simpleicons.org/ for the icons -->
    <div class="four columns mb-3 posisi" >
      
      <a class="ml-0 footer-link icon" href="https://github.com/aleetsaiya" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="GitHub">
        <svg class="github svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>GitHub</title><path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
      </a>
      

      
      <a class="ml-0 footer-link icon" href="https://www.linkedin.com/in/alee-tsai/" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="LinkedIn">
        <svg class="linkedin svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/></svg>
      </a>
      

      
      <a class="ml-0 footer-link icon" href="https://twitter.com/Alee_ba_ba" target="_blank" style="text-decoration: none" rel="noreferrer" aria-label="Twitter">
        <svg class="twitter svg-hov" width="18" role="img" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><title>Twitter</title><path d="M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124C7.691 8.094 4.066 6.13 1.64 3.161c-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 13.999-7.496 13.999-13.986 0-.209 0-.42-.015-.63.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"/></svg>
      </a>
      

      

      

    </div>
  
</div>

      </div>

    </div>

  </div>
  <script src="/js/nanobar.min.js"></script>

  <script>
    var options = {
      classname: 'nanobar',
      id: 'myNanobar'
    };
    var nanobar = new Nanobar(options);
    nanobar.go(30);
    nanobar.go(76);
    nanobar.go(100);
  </script>

</body>

</html>